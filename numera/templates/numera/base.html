<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Numera</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <style>
        body.dark-mode {
            background-color: #121212;
            color: white;
        }
        .sidebar {
            position: fixed;
            top: 0;
            left: 0;
            height: 100%;
            width: 250px;
            background: #343a40;
            padding-top: 20px;
        }
        .sidebar a {
            display: block;
            padding: 10px;
            color: white;
            text-decoration: none;
        }
        .sidebar a.active {
            background-color: #007bff;
        }
        .sidebar a:hover {
            background: #495057;
        }
        .sidebar .app-name {
            text-align: center;
            font-size: 1.5rem;
            font-weight: bold;
            color: white;
            margin-bottom: 20px;
        }
        .content {
            margin-left: 270px;
            padding: 20px;
        }
        .mode-icon {
            position: fixed;
            top: 10px;
            right: 10px;
            cursor: pointer;
            font-size: 24px;
        }
    </style>
    <script>
        // Mode sombre/clair persistant
        document.addEventListener('DOMContentLoaded', function () {
            const mode = localStorage.getItem('theme') || 'light';
            if (mode === 'dark') document.body.classList.add('dark-mode');
        });

        function toggleDarkMode() {
            const body = document.body;
            body.classList.toggle('dark-mode');
            const theme = body.classList.contains('dark-mode') ? 'dark' : 'light';
            localStorage.setItem('theme', theme);
        }
    </script>
</head>
<body>
    <div class="sidebar">
        <div class="app-name">Numera</div>
        <a href="{% url 'home' %}" class="{% if request.resolver_match.url_name == 'home' %}active{% endif %}">Accueil</a>
        <a href="{% url 'visualisation' %}" class="{% if request.resolver_match.url_name == 'visualisation' %}active{% endif %}">Visualisation</a>
        <a href="{% url 'distribution' %}" class="{% if request.resolver_match.url_name == 'distribution' %}active{% endif %}">Distributions</a>
    </div>
    <i class="mode-icon" onclick="toggleDarkMode()">ðŸŒ“</i>
    <div class="content">
        {% block content %}{% endblock %}
    </div>
</body>
</html>
